<html>
        <head>
            <title>remote_control_cozmo.py display</title>
            <link type="text/css" rel="stylesheet" href="static/styles.css"/>
            <script src="static/dist/nipplejs.js" charset="utf-8"></script>
        </head>
        <body>
            <h1 style="text-align:center">Welcome to Cozmo World</h1>
            <div id="left"></div>
            <div id="right"></div>
            <table>
                <tr>
                    <td width=5%></td>
                    <td style="text-align:center;" valign=top>
                        <h2>Control Movement</h2>
                    </td>
                    <td width=45%></td>
                    <td style="text-align:center;" valign=top>
                        <h2 id="headLiftText">Control Lift</h2>
                    </td>
                </tr>
                <tr>
                    <td width=5%></td>
                    <td>
                        <div style="text-align:center;width:100%;">
                          <button class="unselectable" style="height:80px;width:150px" ontouchstart="moveup()" onmousedown="moveup()" onmouseup="stopMove()"><img src="static/images/up.png" height="100%"></button><br><br><br>
                          <button class="unselectable" style="height:80px;width:150px" ontouchstart="moveleft()" onmousedown="moveleft()" onmouseup="stopMove()"><img src="static/images/left.png" height="100%"></button>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <button class="unselectable" style="height:80px;width:150px" ontouchstart="moveright()" onmousedown="moveright()" onmouseup="stopMove()"><img src="static/images/right.png" height="100%"></button><br><br><br>
                          <button class="unselectable" style="height:80px;width:150px" ontouchstart="movedown()" onmousedown="movedown()" onmouseup="stopMove()"><img src="static/images/down.png" height="100%"></button>
                        </div>
                    </td>
                    <td width=45%></td>
                    <td>
                        <div style="text-align:center;width:100%;">
                          <button class="unselectable" style="height:80px;width:150px" ontouchstart="moveupLift()" onmousedown="moveupLift()" onmouseup="stopMoveLift()"><img src="static/images/up.png" height="100%"></button><br><br><br><br>
                          <button class="unselectable" style="height:80px;width:150px;" ontouchstart="movedownLift()" onmousedown="movedownLift()" onmouseup="stopMoveLift()"><img src="static/images/down.png" height="100%"></button>
                        </div>
                    </td>

                </tr>
            </table>

            <script type="text/javascript">
                var gisControllingHead = false

                function moveup() {
                    angle = 90;
                    force = 1;
                    postHttpRequest("joystickMove", {angle,force})
                }
                function movedown() {
                    angle = 270;
                    force = 1;
                    postHttpRequest("joystickMove", {angle,force})
                }
                function moveleft() {
                    angle = 180;
                    force = 1;
                    postHttpRequest("joystickMove", {angle,force})
                }
                function moveright() {
                    angle = 0;
                    force = 1;
                    postHttpRequest("joystickMove", {angle,force})
                }
                function stopMove() {
                    msg = "End";
                    postHttpRequest("joystickEnd", {msg})
                }

                function moveupLift() {
                    angle = 90;
                    force = 1;
                    postHttpRequest("liftMove", {angle,force})
                }
                function movedownLift() {
                    angle = 270;
                    force = 1;
                    postHttpRequest("liftMove", {angle,force})
                }
                function stopMoveLift() {
                    msg = "End";
                    postHttpRequest("liftEnd", {msg})
                }

                function postHttpRequest(url, dataSet)
                {
                    var xhr = new XMLHttpRequest();
                    xhr.open("POST", url, true);
                    xhr.send( JSON.stringify( dataSet ) );
                }

                function updateCozmo()
                {
                    postHttpRequest("updateCozmo", {} )
                }
                setInterval(updateCozmo , 60);

                function handleKeyActivity (e, actionType)
                {
                    var keyCode  = (e.keyCode ? e.keyCode : e.which);
                    postHttpRequest(actionType, {keyCode})
                }

                document.addEventListener("keydown", function(e) { handleKeyActivity(e, "keydown") } );
                document.addEventListener("keyup", function(e) { handleKeyActivity(e, "keyup") } );

                function stopEventPropagation(event)
                {
                    if (event.stopPropagation)
                    {
                        event.stopPropagation();
                    }
                    else
                    {
                        event.cancelBubble = true
                    }
                }
            </script>

        </body>
    </html>